!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JsonEditor=t():e.JsonEditor=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,exports,t){(function(n){e.exports=n.JsonEditor=t(1)}).call(exports,function(){return this}())},function(e,exports,t){"use strict";function n(e,t){if(!e)throw new Error("JsonEditor instance requires 1st param `elem`");if(!t)throw new Error("JsonEditor instance requires 2nd param `config`");i.Styles.add();var n=function(){var t=e.querySelector("section.j-edit");t&&"function"==typeof t.destroy&&t.destroy(),a&&"function"==typeof a.destroy&&a.destroy()},l=function(t){var n=t.target,o=t.detail;console.warn("SELECT",o,n);var i=e.querySelector("section.j-edit"),l={depth:n.depth||null,elem:n,key:n.key,node:n.node,parent:n.parent,path:n.path,type:n.type||"string"},s=(0,r.FieldEditor)(l);i&&i.parentNode&&i.parentNode.removeChild(i),e.appendChild(s)},s=document.createElement("section"),a=(0,o.KeyList)({data:t});return a.addEventListener("selected",l),s.appendChild(a),s.classList.add("j-side"),e.appendChild(s),e.classList.add("json-editor"),{destroy:n}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n;var o=t(2),r=t(9),i=t(4)},function(e,exports,t){"use strict";function n(e){var t=e.data,l=e.parent,s=e.path,a=void 0===s?[]:s,d=e.depth,u=void 0===d?0:d,c=(0,r.createElem)('<ul class="j-keys" depth="'+u+'"></ul>');Object.keys(t).forEach(function(e,n,l){var s=Array.isArray(t[e])?"array":o(t[e]),d="object"===s?i.arrows.down:"array"===s?i.ux.list:"string"===s?i.ux.edit:i.ux.edit,p="object"===s?"j-expandable":"",f=[].slice.call(a).push(e+("array"===s?"[":"object"===s?".":"")),v=(0,r.createElem)(['<li depth="',u+1,'" class="j-closed ',p," j-type-",s,'" key="',e,'">',d," ",e,"</li>"].join(""));Object.assign(v,{node:t,key:e,type:s,path:f,value:t[e]}),c.appendChild(v)});var p=function(e){var t=(e.preventDefault,e.target),o=(0,r.closest)(t,"li",2);if(o){e.preventDefault();var i=o.node,l=o.key,s=(o.type,o.path,o.value,i[l]),a=o.classList.contains("j-type-object"),d=o.classList.contains("j-type-array");if(console.warn("CANCELLED click for %s",l,"isObject=",a,"isArray=",d,"elem=",o),a)return o.querySelector("ul")||o.appendChild(n({data:s,parent:o,depth:u+1})),setTimeout(function(){return o.classList.toggle("j-closed")},333),null;var c=new CustomEvent("selected",{bubbles:!0,cancelable:!1,detail:{key:l,data:s,element:o,depth:u+1,isObject:a,isArray:d}});o.dispatchEvent(c),console.warn("Fired Custom Event: ",c),console.info("_clicked.toggled",l,o)}},f=function(){c.removeEventListener("click",p),(0,r.removeNode)(c.parentNode?c.parentNode:c)};return l||c.addEventListener("click",p),Object.assign(c,{destroy:f})}Object.defineProperty(exports,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};exports.KeyList=n;var r=(t(3),t(4)),i=t(7);t(8)},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.config={debug:!1}},function(e,exports,t){"use strict";function n(e){return e=Array.isArray(e)?e:this,e=e?e:[],Array.from&&Array.from(e)||["upgrade your browser, pfft"]}function o(e){var t=function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0},n=function(t,n){return t[e]>=n[e]?-1:t[e]<n[e]?1:0};return"-"===e[0]?(e=e.substr(1),n):t}function r(e){return this instanceof NodeList&&(e=this),n(e).forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),e}function i(e){return this instanceof Node&&(e=this),e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e),e}function l(e){var t=e.id,n=e._id,o=e.key;return t||n||o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toArray=n,exports.getSorter=o,exports.removeAll=r,exports.removeNode=i,exports.getId=l;exports.Styles={add:function(){var e=document.querySelector("style#json-editor");if(!e){var n=t(5);e=document.createElement("style"),e.id="json-editor",e.innerHTML=n,document.head.appendChild(e)}},remove:function(){var e=document.querySelector("style#json-editor");e&&e.parentNode&&e.parentNode.removeChild(e)}},exports.closest=function s(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return!(null!==n&&n<=0)&&(e?e.matches&&e.matches(t)?e:e.classList&&e.classList.contains(t)?e:s(e.parentNode,t,null!==n?n-1:n):null)},exports.toBool=function(e){return"boolean"==typeof e?e:"string"==typeof e?(e=e.length>=1?e.toUpperCase()[0]:e,0===["Y","1","T"].indexOf(e)):!!e},exports.createElem=function(e){var t=(document.createDocumentFragment(),document.createElement("div"));return t.innerHTML=e,1===t.children.length?t.children[0]:t}},function(e,exports,t){exports=e.exports=t(6)(),exports.push([e.id,".unselectable{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.j-xs-1,.j-xs-2,.j-xs-3,.j-xs-4,.j-xs-5,.j-xs-6,.j-xs-7,.j-xs-8,.j-xs-9,.j-xs-10,.j-xs-11,.j-xs-12{display:inline-block;box-sizing:border-box}.j-xs-1{width:8.3333%}.j-xs-2{width:16.6666%}.j-xs-3{width:24.9999%}.j-xs-4{width:33.3332%}.j-xs-5{width:41.6665%}.j-xs-6{width:49.9998%}.j-xs-7{width:58.3331%}.j-xs-8{width:66.6664%}.j-xs-9{width:74.9997%}.j-xs-10{width:83.3331%}.j-xs-11{width:91.6663%}.j-xs-12{width:99.9996%}ul.j-keys{width:250px;list-style:none;display:inline-block;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}ul.j-keys li{display:block;min-width:250px;min-height:22px;text-align:left;padding-left:10px;margin-left:-30px}ul.j-keys .j-icon-arrow-down,ul.j-keys .j-icon-edit,ul.j-keys .j-icon-list{zoom:40%}ul.j-keys li:not(.j-closed)>.j-icon-arrow-down{transform:rotate(-90deg)!important}ul.j-keys .j-closed>ul{display:none}ul.j-keys .j-closed:before{content:' '!important}ul.j-keys .j-closed>.j-icon-arrow-down{transform:rotate(0deg)!important}ul.j-keys .j-icon-list:before,ul.j-keys .j-icon-plus:before{content:' '}ul.j-keys .j-icon-text:before{content:'\\2139   '!important}ul.j-keys .j-icon-default:before{content:'\\1F524   \\FE0F'!important}.field-editor fieldset{max-width:275px}",""])},function(e,exports){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var l=t[r];"number"==typeof l[0]&&o[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),e.push(l))}},e}},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.arrows={down:'<svg class="j-icon-arrow j-icon-arrow-down" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" width="33" height="22">\n    <path d="M 28 4 L 15.99612865306074 16.99234145250431 M 4 4 L 15.996128653060683 17" style="fill:none;stroke:#000000;stroke-width:8;stroke-linecap:round;stroke-linejoin:bevel;stroke-miterlimit:3;"/>\n  </svg>'},exports.ux={add:'<svg style="isolation:isolate" width="20" height="20">\n    <path d=" M 0 0 L 20 0 L 20 20 L 0 20 L 0 0 Z " fill="rgba(0,0,0,0)" stroke-width="1" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 11 5 L 9 5 L 9 9 L 5 9 L 5 11 L 9 11 L 9 15 L 11 15 L 11 11 L 15 11 L 15 9 L 11 9 L 11 5 Z  M 10 0 C 4.48 0 0 4.48 0 10 C 0 15.52 4.48 20 10 20 C 15.52 20 20 15.52 20 10 C 20 4.48 15.52 0 10 0 Z  M 10 18 C 5.59 18 2 14.41 2 10 C 2 5.59 5.59 2 10 2 C 14.41 2 18 5.59 18 10 C 18 14.41 14.41 18 10 18 Z " fill-rule="evenodd" fill="rgb(0,0,0)" stroke-width="0.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>',plus:'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n  </svg>',check:'<svg style="isolation:isolate" width="24" height="19">\n    <path d=" M 0 0.25 L 24 0.25 L 24 24.25 L 0 24.25 L 0 0.25 Z " fill="rgba(0,0,0,0)" stroke-width="1" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 7.627060830017055 14.685474701534964 L 1.937464468447982 8.995878339965888 L 0 10.919698692438885 L 7.627060830017055 18.54675952245594 L 24 2.1738203524729958 L 22.076179647527002 0.25 L 7.627060830017055 14.685474701534964 Z " fill="rgb(0,0,0)" stroke-width="1" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>',list:'<svg class="j-icon-list" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" width="24" height="13.3">\n    <path d=" M 0 8 L 2.6 8 L 2.6 5.3 L 0 5.3 L 0 8 Z  M 0 13.3 L 2.6 13.3 L 2.6 10.6 L 0 10.6 L 0 13.3 Z  M 0 2.6 L 2.6 2.6 L 2.6 0 L 0 0 L 0 2.6 Z  M 5.3 8 L 24 8 L 24 5.3 L 5.3 5.3 L 5.3 8 Z  M 5.3 13.3 L 24 13.3 L 24 10.6 L 5.3 10.6 L 5.3 13.3 Z  M 5.3 0 L 5.3 2.6 L 24 2.6 L 24 0 L 5.3 0 Z"\n     fill-rule="evenodd" fill="rgb(0,0,0)" stroke-width="1.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 0 0 L 36 0 L 36 36 L 0 36 L 0 0 Z " fill="rgba(0,0,0,0)" stroke-width="1.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>',edit:'<svg class="j-icon-edit" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" width="24" height="24">\n    <path d=" M -4.4408 19.0006 L -4.4408 24 L 4.9993 24 L 19.7439 9.2553 L 14.7446 4.2560 L -4.4408 19.0006 Z  M 23.61 5.3892 C 24.1299 4.8693 24.1299 4.0294 23.61 3.5095 L 20.49 0.3899 C 19.9705 -0.1299 19.1306 -0.1299 18.6107 0.3899 L 16.171 2.8296 L 21.1703 7.8289 L 23.61 5.3892 Z"\n      fill-rule="evenodd" fill="rgb(0,0,0)" stroke-width="1.50" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 0 0 L 35 0 L 35 35 L 0 35 L 0 0 Z " fill="rgba(0,0,0,0)" stroke-width="1.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>'}},function(e,exports){"use strict";function t(e){var t=arguments.length<=1||void 0===arguments[1]?{bubbles:!1,cancelable:!1,detail:void 0}:arguments[1],n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomEvent=t,window&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=t,t.prototype=window.Event.prototype)},function(e,exports,t){"use strict";function n(e){var t=arguments,n=e.key,i=e.node,l=(e.parent,e.path),s=(e.elem,e.type),a=void 0===s?"string":s,d=e.depth,u=void 0===d?0:d,c=(0,r.createElem)('<section class="j-edit j-side text-left" key="'+n+'" type="'+a+'" depth="'+u+'" path="'+(Array.isArray(l)?l.join("::"):l)+'">\n    <form class="field-editor">\n      <fieldset>\n        <label>Name</label>\n        <input type="text" name="name" class="name" value="'+n+'" />\n      </fieldset>\n      <fieldset>\n        <label>Type</label>\n        <select rows="1" name="type">\n          <option value="string">text</option>\n          <option value="boolean">yes/no</option>\n          <option value="number">number</option>\n          <option value="object">object/hash/map/key-val</option>\n          <option value="array">list</option>\n        </select>\n      </fieldset>\n      <fieldset>\n        <label>Value</label>\n        <div class="valueEditorPlaceholder"></div>\n      </fieldset>\n      <fieldset>\n        <button type="submit">Save</button>\n        <button type="reset">Cancel</button>\n        <strong></strong>\n      </fieldset>\n    </form>\n  </section>'),p=i[n],f={},v=function(){return y().value},y=function(){return c.querySelector(".field-value")||{value:!1}},h=c.querySelector('input[name="name"]'),m=c.querySelector('select[name="type"]'),b=c.querySelector(".valueEditorPlaceholder");f[a]=p,m.value=a;var g=["string","number","boolean"],j=function M(){var e=arguments.length<=0||void 0===arguments[0]?v():arguments[0],t=arguments.length<=1||void 0===arguments[1]||arguments[1];return console.trace("   \tGenField(",n,", ",e,")"),"string"===m.value?(0,r.createElem)("<input type='text' class='field-value' name='field-value' value='"+e+"' />"):"number"===m.value?(0,r.createElem)("<input type='number' class='field-value' name='field-value' value='"+e+"' />"):"boolean"===m.value?(0,r.createElem)("<input type='checkbox' class='field-value' name='field-value' value='checked'"+(e?" checked":"")+"' />"):"array"===m.value&&t?e.reduce(function(e,t,n){var i=(0,r.createElem)('<li idx="'+n+'">'+t+": </li>");return g.indexOf("undefined"==typeof t?"undefined":o(t))<=-1?i.appendChild((0,r.createElem)("<pre>"+JSON.stringify(t,null,2)+"</pre>")):i.appendChild(M(t,!1)),e.appendChild(i),e},document.createElement("ul")):(0,r.createElem)("<span class=\"has-error\"><input type='text' class='field-value' name='field-value' value='"+e+"' /></span>")},w=function(e){var t=e.value,n=e.type,i=Array.isArray(t)?"array":"undefined"==typeof t?"undefined":o(t);switch(n){case"string":return t.toString();case"number":switch(i){case"string":return parseFloat(t);case"boolean":return t?1:0;case"array":return-1;case"object":return-1;default:return-99}break;case"boolean":return(0,r.toBool)(t);case"array":return[];case"object":return{}}},L=function(e){var t=m.value,n=w({value:e||v(),type:t}),o=j(n);return(0,r.removeAll)(b.children),b.appendChild(o),o},k=function(e){e.target;console.warn("Type Changed!!",t);m.value,v();L()},x=function(e){var o=(e.target,e.detail,e.preventDefault,n),r=h.value,l=a,s=m.value,d=p,u=v(),c=o!==r,f=l!==s,y=d!==u,b=c||f||y;e.preventDefault(),b?(console.warn("Saving changes... ("+o+":"+d+" => "+r+":"+u+") nameChanged="+c+" typeChanged="+f+" valueChanged="+y+" \nArgs=\n",t),c?(i[r]=u,delete i[o]):y&&(i[r]=u)):console.warn("Nothing changed")},E=function(e){e.target;console.warn("Cancelled!!",t)},C=function(){c.querySelector('button[type="submit"]').addEventListener("click",x),c.querySelector('button[type="reset"]').addEventListener("click",E),m.addEventListener("change",k)},S=function(){c.querySelector('button[type="submit"]').removeEventListener("click",x),c.querySelector('button[type="reset"]').removeEventListener("click",E),m.removeEventListener("change",k),(0,r.removeNode)(c)};return C(),L(p),Object.assign(c,{destroy:S})}Object.defineProperty(exports,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};exports.FieldEditor=n;var r=t(4)}])});