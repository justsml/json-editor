!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JsonEditor=t():e.JsonEditor=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,exports,t){(function(n){e.exports=n.JsonEditor=t(1)}).call(exports,function(){return this}())},function(e,exports,t){"use strict";function n(e,t){if(!e)throw new Error("JsonEditor instance requires 1st param `elem`");if(!t)throw new Error("JsonEditor instance requires 2nd param `config`");var n=function(){i.Styles.remove();var t=e.querySelector("section.j-edit");t&&"function"==typeof t.destroy&&t.destroy(),l&&"function"==typeof l.destroy&&l.destroy()},a=function(t){var n=t.target,r=t.detail;console.warn("SELECT",r,n);var i=e.querySelector("section.j-edit");i&&i.parentNode&&i.parentNode.removeChild(i),e.appendChild((0,o.FieldEditor)({depth:n.depth||1,elem:n,key:n.key,node:n.node,parent:n.parent||n.parentNode,path:n.path,type:n.type||"string"}))},s=document.createElement("section"),l=(0,r.KeyList)({data:t});return l.addEventListener("selected",a),s.appendChild(l),s.classList.add("j-side"),e.appendChild(s),e.classList.add("json-editor"),i.Styles.add(),{destroy:n}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n;var r=t(2),o=t(8),i=t(3)},function(e,exports,t){"use strict";function n(e){var t=e.data,a=e.parent,s=e.path,l=void 0===s?[]:s,c=e.depth,u=void 0===c?0:c,d=e.canAdd,p=void 0===d||d,y=(0,o.createElem)('<ul class="j-keys" depth="'+u+'"></ul>');Object.keys(t).forEach(function(e,n,a){var s=Array.isArray(t[e])?"array":r(t[e]),c="object"===s?i.arrows.down:"array"===s?i.ux.list:"string"===s?i.ux.edit:i.ux.edit,d="object"===s?"j-expandable":"",f=[].slice.call(l).push(e+("array"===s?"[":"object"===s?".":"")),v=(0,o.createElem)(['<li depth="',u+1,'" class="j-closed ',d," j-type-",s,'" key="',e,'">',c," ",e,"</li>"].join(""));if(Object.assign(v,{node:t,key:e,type:s,path:f,value:t[e]}),y.appendChild(v),a.length-1===n&&p){var h=(0,o.createElem)("<li class='j-create j-type-string' key='[key name]'></li>");Object.assign(h,{node:t,key:"[key]",type:"string",path:f,value:"",innerHTML:" [new] "}),y.appendChild(h)}});var f=function(e){var t=e.target,r=(0,o.closest)(t,"li",2);if(r){e.preventDefault();var i=r.node,a=r.key,s=(r.type,r.path,r.value,i[a]),l=r.classList.contains("j-type-object"),c=r.classList.contains("j-type-array");if(console.warn("CANCELLED click for %s",a,"isObject=",l,"isArray=",c,"elem=",r),l)return r.querySelector("ul")||r.appendChild(n({data:s,parent:r,depth:u+1})),setTimeout(function(){return r.classList.toggle("j-closed")},333),null;var d=new CustomEvent("selected",{bubbles:!0,cancelable:!1,detail:{key:a,data:s,element:r,depth:u+1,isObject:l,isArray:c}});r.dispatchEvent(d),console.warn("Fired Custom Event: ",d),console.info("_clicked.toggled",a,r)}},v=function(){y.removeEventListener("click",f),(0,o.removeNode)(y.parentNode?y.parentNode:y)};return a||y.addEventListener("click",f),Object.assign(y,{destroy:v})}Object.defineProperty(exports,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};exports.KeyList=n;var o=t(3),i=t(6);t(7)},function(e,exports,t){"use strict";function n(e){return e&&Object.prototype.toString.call(e).replace("[object ","").replace("]","").toLowerCase()}function r(e){return e=Array.isArray(e)?e:this,e=e?e:[],Array.from&&Array.from(e)||["upgrade your browser, pfft"]}function o(e){var t=function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0},n=function(t,n){return t[e]>=n[e]?-1:t[e]<n[e]?1:0};return"-"===e[0]?(e=e.substr(1),n):t}function i(e){return this instanceof NodeList&&(e=this),r(e).forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),e}function a(e){return this instanceof Node&&(e=this),e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e),e}function s(e){var t=e.id,n=e._id,r=e.key;return t||n||r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getType=n,exports.toArray=r,exports.getSorter=o,exports.removeAll=i,exports.removeNode=a,exports.getId=s;exports.Styles={add:function(){var e=document.querySelector("style#json-editor");if(!e){var n=t(4);e=document.createElement("style"),e.id="json-editor",e.innerHTML=n,document.head.appendChild(e)}},remove:function(){var e=document.querySelector("style#json-editor");e&&e.parentNode&&e.parentNode.removeChild(e)}},exports.closest=function l(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return!(null!==n&&n<=0)&&(e?e.matches&&e.matches(t)?e:e.classList&&e.classList.contains(t)?e:l(e.parentNode,t,null!==n?n-1:n):null)},exports.toBool=function(e){return"boolean"==typeof e?e:"string"==typeof e?(e=e.length>=1?e.toUpperCase()[0]:e,0===["Y","1","T"].indexOf(e)):!!e},exports.createElem=function(e){var t=document.createElement("div");return t.innerHTML=e,1===t.children.length?t.children[0]:t}},function(e,exports,t){exports=e.exports=t(5)(),exports.push([e.id,".unselectable{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.j-xs-1,.j-xs-2,.j-xs-3,.j-xs-4,.j-xs-5,.j-xs-6,.j-xs-7,.j-xs-8,.j-xs-9,.j-xs-10,.j-xs-11,.j-xs-12{display:inline-block;box-sizing:border-box}.j-xs-1{width:8.3333%}.j-xs-2{width:16.6666%}.j-xs-3{width:24.9999%}.j-xs-4{width:33.3332%}.j-xs-5{width:41.6665%}.j-xs-6{width:49.9998%}.j-xs-7{width:58.3331%}.j-xs-8{width:66.6664%}.j-xs-9{width:74.9997%}.j-xs-10{width:83.3331%}.j-xs-11{width:91.6663%}.j-xs-12{width:99.9996%}ul.j-keys{width:250px;list-style:none;display:inline-block;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}ul.j-keys li{display:block;min-width:250px;min-height:22px;text-align:left;padding-left:10px;margin-left:-30px}ul.j-keys .j-icon-arrow-down,ul.j-keys .j-icon-edit,ul.j-keys .j-icon-list{zoom:40%}ul.j-keys li:not(.j-closed)>.j-icon-arrow-down{transform:rotate(0deg)!important}ul.j-keys .j-closed>ul{display:none}ul.j-keys .j-closed:before{content:' '!important}ul.j-keys .j-closed>.j-icon-arrow-down{transform:rotate(-90deg)!important}ul.j-keys .j-icon-list:before,ul.j-keys .j-icon-plus:before{content:' '}ul.j-keys .j-icon-text:before{content:'\\2139   '!important}ul.j-keys .j-icon-default:before{content:'\\1F524   \\FE0F'!important}ul.j-keys .j-create{font-style:italic}.field-editor ul{list-style:none}.field-editor fieldset{width:100%}",""])},function(e,exports){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.arrows={down:'<svg class="j-icon-arrow j-icon-arrow-down" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" width="33" height="22">\n    <path d="M 28 4 L 15.99612865306074 16.99234145250431 M 4 4 L 15.996128653060683 17" style="fill:none;stroke:#000000;stroke-width:8;stroke-linecap:round;stroke-linejoin:bevel;stroke-miterlimit:3;"/>\n  </svg>'},exports.ux={add:'<svg style="isolation:isolate" width="20" height="20">\n    <path d=" M 0 0 L 20 0 L 20 20 L 0 20 L 0 0 Z " fill="rgba(0,0,0,0)" stroke-width="1" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 11 5 L 9 5 L 9 9 L 5 9 L 5 11 L 9 11 L 9 15 L 11 15 L 11 11 L 15 11 L 15 9 L 11 9 L 11 5 Z  M 10 0 C 4.48 0 0 4.48 0 10 C 0 15.52 4.48 20 10 20 C 15.52 20 20 15.52 20 10 C 20 4.48 15.52 0 10 0 Z  M 10 18 C 5.59 18 2 14.41 2 10 C 2 5.59 5.59 2 10 2 C 14.41 2 18 5.59 18 10 C 18 14.41 14.41 18 10 18 Z " fill-rule="evenodd" fill="rgb(0,0,0)" stroke-width="0.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>',plus:'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n  </svg>',check:'<svg style="isolation:isolate" width="24" height="19">\n    <path d=" M 0 0.25 L 24 0.25 L 24 24.25 L 0 24.25 L 0 0.25 Z " fill="rgba(0,0,0,0)" stroke-width="1" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 7.627060830017055 14.685474701534964 L 1.937464468447982 8.995878339965888 L 0 10.919698692438885 L 7.627060830017055 18.54675952245594 L 24 2.1738203524729958 L 22.076179647527002 0.25 L 7.627060830017055 14.685474701534964 Z " fill="rgb(0,0,0)" stroke-width="1" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>',list:'<svg class="j-icon-list" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" width="24" height="13.3">\n    <path d=" M 0 8 L 2.6 8 L 2.6 5.3 L 0 5.3 L 0 8 Z  M 0 13.3 L 2.6 13.3 L 2.6 10.6 L 0 10.6 L 0 13.3 Z  M 0 2.6 L 2.6 2.6 L 2.6 0 L 0 0 L 0 2.6 Z  M 5.3 8 L 24 8 L 24 5.3 L 5.3 5.3 L 5.3 8 Z  M 5.3 13.3 L 24 13.3 L 24 10.6 L 5.3 10.6 L 5.3 13.3 Z  M 5.3 0 L 5.3 2.6 L 24 2.6 L 24 0 L 5.3 0 Z"\n     fill-rule="evenodd" fill="rgb(0,0,0)" stroke-width="1.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 0 0 L 36 0 L 36 36 L 0 36 L 0 0 Z " fill="rgba(0,0,0,0)" stroke-width="1.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>',edit:'<svg class="j-icon-edit" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" width="24" height="24">\n    <path d=" M -4.4408 19.0006 L -4.4408 24 L 4.9993 24 L 19.7439 9.2553 L 14.7446 4.2560 L -4.4408 19.0006 Z  M 23.61 5.3892 C 24.1299 4.8693 24.1299 4.0294 23.61 3.5095 L 20.49 0.3899 C 19.9705 -0.1299 19.1306 -0.1299 18.6107 0.3899 L 16.171 2.8296 L 21.1703 7.8289 L 23.61 5.3892 Z"\n      fill-rule="evenodd" fill="rgb(0,0,0)" stroke-width="1.50" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n    <path d=" M 0 0 L 35 0 L 35 35 L 0 35 L 0 0 Z " fill="rgba(0,0,0,0)" stroke-width="1.5" stroke="rgba(0,0,0,0)" stroke-linecap="butt"/>\n  </svg>'}},function(e,exports){"use strict";function t(e){var t=arguments.length<=1||void 0===arguments[1]?{bubbles:!1,cancelable:!1,detail:void 0}:arguments[1],n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomEvent=t,window&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=t,t.prototype=window.Event.prototype)},function(e,exports,t){"use strict";function n(e){var t=arguments,n=e.key,i=e.node,a=(e.elem,e.parent,e.path),s=void 0===a?[]:a,l=e.type,c=void 0===l?"string":l,u=e.depth,d=void 0===u?0:u,p=function(e){var t=e.idx,n=void 0===t?-1:t;return(0,o.createElem)('<div class="j-array-buttons">\n    <button action="add" idx="'+n+'">+</button>\n    <button action="remove" idx="'+n+'">-</button>\n  </div>')},y=(0,o.createElem)('<section class="j-edit j-side text-left" key="'+n+'" type="'+c+'" depth="'+d+'" path="'+(Array.isArray(s)?s.join("::"):s)+'">\n    <form class="field-editor">\n      <fieldset>\n        <label>Name</label>\n        <input type="text" name="name" class="name" value="'+n+'" />\n      </fieldset>\n      <fieldset>\n        <label>Type</label>\n        <select rows="1" name="type">\n          <option value="string">text</option>\n          <option value="boolean">yes/no</option>\n          <option value="number">number</option>\n          <option value="object">object/hash/map/key-val</option>\n          <option value="array">list</option>\n        </select>\n      </fieldset>\n      <fieldset>\n        <label>Value</label>\n        <div class="valueEditorPlaceholder"></div>\n        <!-- Array buttons go here -->\n      </fieldset>\n      <fieldset>\n        <button type="submit">Save</button>\n        <button type="reset">Cancel</button>\n        <strong></strong>\n      </fieldset>\n    </form>\n  </section>'),f=i[n],v={},h=function(){return b().value},b=function(){return y.querySelector(".field-value")||{value:!1}},m=y.querySelector('input[name="name"]'),g=y.querySelector('select[name="type"]'),j=y.querySelector(".valueEditorPlaceholder");v[c]=f,g.value=c;var w=["string","number","boolean"],L=function(e){return Array.isArray(e)?"array":"undefined"==typeof e?"undefined":r(e)},k=function q(){var e=arguments.length<=0||void 0===arguments[0]?h():arguments[0],t=arguments.length<=1||void 0===arguments[1]||arguments[1],r=L(e);return console.trace("   \tGenField(",n,", ",e,")",r),"string"===r?(0,o.createElem)("<input type='text' js-type='"+r+"' class='field-value' name='field-value' value='"+e+"' />"):"number"===r?(0,o.createElem)("<input type='number' js-type='"+r+"' class='field-value' name='field-value' value='"+e+"' />"):"boolean"===r?(0,o.createElem)("<input type='checkbox' js-type='"+r+"' class='field-value' name='field-value' value='checked'"+(e?" checked":"")+"' />"):"array"===r&&t?e.reduce(function(e,t,n){var i=(0,o.createElem)('<li idx="'+n+'">'+("string"==typeof t?t+": ":"")+"</li>");return w.indexOf(L(t))<=-1?i.appendChild((0,o.createElem)("<textarea js-type='"+r+"' path='"+n+"' class='field-value json-value' rows='7'>"+JSON.stringify(t,null,2)+"</textarea>")):i.appendChild(q(t,!1)),e.appendChild(i),e},document.createElement("ul")):(0,o.createElem)("<span class=\"has-error\"><input type='text' js-type='"+r+"' class='field-value' name='field-value' value='"+JSON.stringify(e,null,2)+"' /></span>")},x=function(e){var t=e.value,n=e.type,r=/^\s*(\{|\[).*(\]|\})\s*$/g,i=function(e){return r.test(e)},a=L(t);switch(n){case"string":switch(a){case"string":return t;case"boolean":return t;case"array":return"string"==typeof t[0]?t.join("\t"):JSON.stringify(t);case"object":return JSON.stringify(t);default:return t}case"number":switch(a){case"string":return parseFloat(t);case"boolean":return t?1:0;case"array":return-1;case"object":return-1;default:return-99}case"boolean":return(0,o.toBool)(t);case"array":switch(a){case"string":return i(t)?JSON.parse(t):t.split(/\s+/);case"boolean":return[t];case"array":return t;case"object":return[t];default:return[]}case"object":switch(a){case"string":return i(t)?JSON.parse(t):{value:t};case"boolean":return{value:t};case"array":return{value:t};case"object":return t;default:return{}}}return console.error("Failed to Match Type: ",n,a,t),t},E=function(e){var t=g.value,n=x({value:e||S(),type:t}),r=k(n);return(0,o.removeAll)(j.children),console.error("placeholder empty?",j.children),console.error("updateValueField",h(),S()),j.appendChild(r),r},C=function(e){var n=(e.target,g.value,S());(0,o.removeAll)(j.children),console.warn("Type Changed!! OriginalType="+c+" Val="+n+" ",t),E()},S=function(){var e=j.querySelectorAll("input, textarea"),t=Array.from(e).map(function(e,t,n){var r=e.value,o=e.getAttribute("js-type");try{if(e.classList.contains("json-value"))return JSON.parse(r)}catch(i){console.error("FAILED TO CONVERT JSON:",i)}return console.warn("getCurrentValue:",o,r),r=x({value:r,type:o}),console.warn("V:",r),r});return"array"!==c?t[0]:t},N=function(e){var r=n,o=m.value,a=c,l=g.value,u=f,d=h(),p=r!==o,y=a!==l,v=u!==d,b=p||y||v;e.preventDefault(),b?(console.warn("CHANGED! PATH="+s+" Value=",S()),console.warn("Saving changes... ("+r+":"+u+" => "+o+":"+d+") nameChanged="+p+" typeChanged="+y+" valueChanged="+v+" \nArgs=\n",t),p?(i[o]=d,delete i[r]):v&&(i[n]=S())):console.warn("Nothing changed")},M=function(e){e.target;console.warn("Cancelled!!",t)},O=function(){y.querySelector('button[type="submit"]').addEventListener("click",N),y.querySelector('button[type="reset"]').addEventListener("click",M),g.addEventListener("change",C),j.parentNode.appendChild(p({index:-1}))},A=function(){y.querySelector('button[type="submit"]').removeEventListener("click",N),y.querySelector('button[type="reset"]').removeEventListener("click",M),g.removeEventListener("change",C),(0,o.removeNode)(y)};return O(),E(f),Object.assign(y,{destroy:A})}Object.defineProperty(exports,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};exports.FieldEditor=n;var o=t(3)}])});